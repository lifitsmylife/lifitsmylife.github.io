(function(){"use strict";var e={3206:function(e,t,i){var r=i(6369),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-app",{attrs:{id:"inspire"}},[t("v-app-bar",{attrs:{app:""}},[t("v-toolbar-title",[e._v("Quality Calculator")]),t("v-spacer"),t("v-text-field",{attrs:{label:"Search","hide-details":"auto"},on:{input:e.onSearchStringChanged},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1),t("v-main",[t("router-view",{attrs:{name:"default"}})],1)],1)},a=[],s=i(7327),o=i(1013),l=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s};let c=class extends r["default"]{constructor(...e){super(...e),(0,s.Z)(this,"searchString","")}onSearchStringChanged(){this.$router.replace({query:{...this.$router.currentRoute.query,search:this.searchString}})}created(){this.searchString=this.$route.query.search??this.searchString}};c=l([o.ZP],c);var u,h=c,f=h,d=i(3736),v=(0,d.Z)(f,n,a,!1,null,null,null),p=v.exports;(function(e){e["Eu"]="eu"})(u||(u={}));var m,b=u;(function(e){e["LifMmoRelaunch"]="lif-mmo-relaunch"})(m||(m={}));var g=m,_=i(8450),y=i.n(_),x=i(5360);class S{constructor(e,t=g.LifMmoRelaunch,i=b.Eu){(0,s.Z)(this,"_lang",void 0),(0,s.Z)(this,"_version",void 0),(0,s.Z)(this,"_options",void 0),(0,s.Z)(this,"_propertyDiscriminators",void 0),this._lang=i,this._version=t,this._options=e,this._propertyDiscriminators={},this.setPropertyDiscriminator("name",(e=>e.content??"")),this.setPropertyDiscriminator("imagePath",(e=>{const t=e.content??"",i=t.lastIndexOf("\\");return"/"+this._options.imageUri+"/"+t.substring(i+1,t.length)}))}async loadAsync(){const e=await Promise.all([this._getSerializedXmlFileContent("recipe.xml"),this._getSerializedXmlFileContent("objects_types.xml"),this._getSerializedXmlFileContent("recipe_requirement.xml")]);return{xmlRecipes:e[0],xmlObjectsTypes:e[1],xmlRecipeRequirements:e[2]}}setPropertyDiscriminator(e,t){this._propertyDiscriminators[e]=t}async _getSerializedXmlFileContent(e){const t=await this._getXmlFileContent(e);if(!t)return[];const i=y()(t),r=i.root.children,n=new Array(r.length);for(let a=0;a<n.length;a++){const t=r[a],i={},s=t.children;for(const r of s){const t=(0,x.Z)(r.name),n=this._propertyDiscriminators[t];if(n)i[t]=n(r,e);else{const e=r.content??"",n=parseInt(e,10);i[t]=isNaN(n)?e:n}}n[a]=i}return n}async _getXmlFileContent(e){const t="/"+this._options.dataUri+"/"+this._version+"/"+this._lang+"/"+e+"?_v="+this._options.appVersion,i=await fetch(t);return i.text()}}class w{static async initialize(){const e=new S({dataUri:"data",imageUri:"arts/items",appVersion:"1.0.0"},g.LifMmoRelaunch,b.Eu),t=await e.loadAsync();Object.freeze(t),w.xmlDataPack=t}}(0,s.Z)(w,"xmlDataPack",void 0);var O=i(2631),T=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{staticClass:"col-6 ps-0"},[t("HomeViewList")],1),t("v-col",{staticClass:"col-6 ps-0"},[t("HomeViewCalculator")],1)],1)},k=[],P=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-virtual-scroll",{staticClass:"mt-2 mb-2",attrs:{items:e.filteredItems,itemHeight:"64",height:"calc(100vh - 64px)"},scopedSlots:e._u([{key:"default",fn:function({item:i,index:r}){return[t("v-list-item",{key:i.id,on:{click:function(t){return e.onOpenNewTab(i)}}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.imagePath,expression:"item.imagePath"}],staticClass:"home-list-img",attrs:{alt:i.name}}),t("v-list-item-content",[t("v-list-item-title",[e._v(" "+e._s(i.name)+" ")])],1),t("v-list-item-action",[t("v-btn",{attrs:{color:"orange",text:""}},[e._v(" Open ")])],1)],1),r<e.filteredItems.length-1?t("v-divider",{key:r}):e._e()]}}])})},R=[],I=i(4815);i(7658);class Z{static calculate(e){let t=0;for(const i of e.requirements)t+=(i.material?.value??0)*(i.influence/100);return Math.floor(t)}}class j{get result(){return Z.calculate(this)}constructor(e){(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"requirements",void 0),this.id=e.id,this.name=e.name,this.requirements=e.requirements}}const C="application:tabs";class D{get activeTab(){return this.activeTabIndex<=this.tabs.length?this.tabs[this.activeTabIndex]:null}get activeTabIndex(){return this._activeTabIndex}set activeTabIndex(e){this._activeTabIndex=-1!==e&&e<this.tabs.length?e:0,this._kickTheHorse()}constructor(e=[],t=0){(0,s.Z)(this,"tabs",[]),(0,s.Z)(this,"_listeners",[]),(0,s.Z)(this,"_activeTabIndex",0),this.tabs=e,this.activeTabIndex=t}add(e){this.tabs.push(e),this._activeTabIndex=this.tabs.indexOf(e),this._fireEvent("Add",e),this._kickTheHorse()}remove(e){const t=this.tabs.indexOf(e);this.tabs.splice(t,1),this.activeTabIndex>this.tabs.length-1&&(this.activeTabIndex=this.tabs.length-1),this._fireEvent("Delete",e),this._kickTheHorse()}static fromLocalStorage(){const e={tabs:[],activeTabIndex:0},t=localStorage.getItem(C),i=t?JSON.parse(t)??e:e;return i.tabs.forEach((e=>{e.recipe=new j(e.recipe)})),new D(i.tabs,i.activeTabIndex)}onTabAdded(e){this._addListener("Add",e)}onTabDeleted(e){this._addListener("Delete",e)}_addListener(e,t){this._listeners.push({eventName:e,callback:t}),console.log(this._listeners)}_fireEvent(e,...t){this._listeners.filter((t=>t.eventName===e)).forEach((e=>e.callback(...t)))}_kickTheHorse(){localStorage.setItem(C,JSON.stringify({tabs:this.tabs,activeTabIndex:this.activeTabIndex}))}}const q=D.fromLocalStorage();var M,L=q;(function(e){e[e["Skill"]=-1]="Skill"})(M||(M={}));var z=M;class E{static collect(e){const t={id:e.id,name:e.name,result:0,requirements:E._getRecipeRequirements(e)};return new j(t)}static _getRecipeRequirements(e){const t=w.xmlDataPack?.xmlRecipeRequirements.filter((t=>t.recipeId===e.id)).map((e=>({id:e.id,influence:e.influence,material:this._getRecipeMaterialById(e.materialObjectTypeId)})))??[];return t.push({id:z.Skill,influence:e.skillDepends,material:{id:z.Skill,name:"Skill",value:50}}),t}static _getRecipeMaterialById(e){const t=w.xmlDataPack?.xmlObjectsTypes.find((t=>t.id===e));return t?{id:t.id,name:t.name,value:50}:null}}var H=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s};let N=class extends r["default"]{constructor(...e){super(...e),(0,s.Z)(this,"items",w.xmlDataPack.xmlRecipes),(0,s.Z)(this,"searchString","")}get filteredItems(){return this.searchString?this.items.filter((e=>-1!==e.name?.toUpperCase().indexOf(this.searchString))):this.items}onOpenNewTab(e){L.add({recipe:E.collect(e)})}onSearchStringChanged(e){this.searchString=e?.toUpperCase()??""}created(){this.onSearchStringChanged(this.$route.query.search)}};H([(0,I.RL)("$route.query.search")],N.prototype,"onSearchStringChanged",null),N=H([o.ZP],N);var $=N,A=$,F=(0,d.Z)(A,P,R,!1,null,null,null),U=F.exports,V=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("v-tabs",{attrs:{"center-active":""},model:{value:e.tabManager.activeTabIndex,callback:function(t){e.$set(e.tabManager,"activeTabIndex",t)},expression:"tabManager.activeTabIndex"}},e._l(e.tabManager.tabs,(function(i,r){return t("v-tab",{key:r},[e._v(" "+e._s(i.recipe.name)+" ("+e._s(i.recipe.result)+") "),t("v-btn",{staticClass:"ml-1",attrs:{text:"",fab:"","x-small":""},on:{click:function(t){return t.stopPropagation(),e.onTabRemoved(i)}}},[t("v-icon",{attrs:{color:"red"}},[e._v("mdi-close")])],1)],1)})),1),e.tab?t("v-card-text",[t("v-container",[e._l(e.tab.recipe.requirements,(function(i){return[t("v-row",{key:i.id},[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:i.material.name},model:{value:i.material.value,callback:function(t){e.$set(i.material,"value",e._n(t))},expression:"requirement.material.value"}})],1)],1)]})),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Quality",value:e.tab.recipe.result}})],1)],1)],2)],1):e._e()],1)},X=[],B=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s};let J=class extends r["default"]{constructor(...e){super(...e),(0,s.Z)(this,"tabManager",L)}get tab(){return this.tabManager.activeTab}onTabRemoved(e){L.remove(e)}};J=B([o.ZP],J);var Q=J,G=Q,K=(0,d.Z)(G,V,X,!1,null,null,null),W=K.exports,Y=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s};let ee=class extends I.w3{};ee=Y([(0,I.wA)({components:{HomeViewList:U,HomeViewCalculator:W}})],ee);var te=ee,ie=te,re=(0,d.Z)(ie,T,k,!1,null,null,null),ne=re.exports;r["default"].use(O.ZP);const ae=[{path:"*",name:"home",components:{default:ne}}],se=new O.ZP({mode:"history",base:"/",routes:ae});var oe=se,le=i(4394);r["default"].use(le.Z);var ce=i(7345);r["default"].use(ce.Z);var ue=i(707),he=i.n(ue);i(8556);r["default"].use(he());const fe={};var de=new(he())(fe);r["default"].config.productionTip=!1,w.initialize().then((()=>{new r["default"]({router:oe,vuetify:de,render:e=>e(p)}).$mount("#app")})).catch((()=>{new r["default"]({render:e=>e("h1","Something went wrong... ¯\\_(ツ)_/¯")}).$mount("#app")}))}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,i),a.exports}i.m=e,function(){var e=[];i.O=function(t,r,n,a){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],a=e[u][2];for(var o=!0,l=0;l<r.length;l++)(!1&a||s>=a)&&Object.keys(i.O).every((function(e){return i.O[e](r[l])}))?r.splice(l--,1):(o=!1,a<s&&(s=a));if(o){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,s=r[0],o=r[1],l=r[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(l)var u=l(i)}for(t&&t(r);c<s.length;c++)a=s[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(u)},r=self["webpackChunktest"]=self["webpackChunktest"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(3206)}));r=i.O(r)})();
//# sourceMappingURL=app.9302d5fa.js.map